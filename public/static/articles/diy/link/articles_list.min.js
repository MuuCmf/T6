"use strict";$(function(){var l="";$("body").on("click",'#linkTypeModal [data-link-type="articles_list"]',function(){$(this).data("api"),l=$(this).data("category-api"),$("#linkTypeModal").modal("hide"),$("#linkConfigModal .modal-body").html("");var o="";$.get(l,function(l){o+='<div class="form-horizontal articles-list">',o+='<div class="form-group">',o+='<label class="col-sm-2 control-label">按分类选择</label>',o+='<div class="col-md-6 col-sm-10">',o+='<select class="form-control" name="category_id">',o+='<option value="0" selected>全部分类</option>',0<l.data.length&&$.each(l.data,function(l,i){o+='<option value="'+i.id+'" style="font-weight:600">'+i.title+"</option>",void 0!==i._child&&$.each(i._child,function(l,i){o+='<option value="'+i.id+'">----'+i.title+"</option>"})}),o+="</select>",o+="</div>",o+="</div>",o+='                <div class="form-group">                    <label class="col-sm-2 control-label">排序值</label>                    <div class="col-md-6 col-sm-10">                        <select class="form-control" name="order_field">                            <option value="create_time" selected="">发布时间</option>                            <option value="update_time">更新时间</option>                            <option value="view">浏览量</option>                        </select>                    </div>                </div>                <div class="form-group">                    <label class="col-sm-2 control-label">排序方式</label>                    <div class="col-md-6 col-sm-10">                        <select class="form-control" name="order_type">                            <option value="desc" selected="">按降序排列</option>                            <option value="asc">按升序排列</option>                        </select>                    </div>                </div>',o+="</div>",$("#linkConfigModal .modal-body").html(o),$("#linkConfigModal").modal("show")}),$("#linkConfigModal").on("click","button.submit",function(){var l=$('#linkConfigModal select[name="category_id"]').val(),i=$('#linkConfigModal select[name="category_id"] option:selected').text(),o={category_id:l,order_field:$('#linkConfigModal [name="order_field"]').val(),order_type:$('#linkConfigModal [name="order_type"]').val()};window.linkEelment.find('input[name="link_app"]').val("articles"),window.linkEelment.find('input[name="link_title"]').val(i),window.linkEelment.find('input[name="link_type"]').val("articles_list"),window.linkEelment.find('input[name="link_type_title"]').val("文章列表"),window.linkEelment.find('[name="link_param"]').val(JSON.stringify(o)),window.linkEelment.find(".link_title li:eq(0)").html("文章列表"),window.linkEelment.find(".link_title li:eq(1)").html(i),$("#linkConfigModal").modal("hide")})})});